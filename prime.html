<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Prime Number Coding Challenge</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="https://www.upwork.com/freelancers/~01d05d39dad85b6331">Anthony Mutinda</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav my-2 my-lg-0">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Profile
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://www.upwork.com/freelancers/~01d05d39dad85b6331">Upwork</a>
                        <a class="dropdown-item" href="mailto:toneymutinda@gmail.com">Email</a>
                    </div>
                </li>
            </ul>
            
        </div>
    </nav>

    <div class="container">
        <div class="row mt-5">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Coding Challenge
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">Press the button to retrieve answer</h5>
                        <p class="card-text">Which prime, below one million, can be written as the sum of the most consecutive primes?</p>
                        <a href="#" class="btn btn-primary" id="button">Get Answer</a>
                        <p class="mt-3">
                            The answer is: <strong id="answer"></strong>
                        </p>
                    </div>
                    <div class="card-footer text-muted">
                        Script by Anthony Mutinda
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Script (Vanilla JS + JQuery)
                    </div>
                    <div class="card-body">
                        <section style="max-height: 244px; overflow: scroll; color: black !important;">
                            <code style="color: #333 !important; font-size: 13px;">
                                                const limit = 1000000 <br>
                                                const notPrime = new Uint8Array(limit); <br>
                                                const primes = []; <br> 
                                                
                                                notPrime[0] = notPrime[1] = 1; <br>
                                                
                                                for (let i = 2; i < limit; i++) { <br>
                                                    &nbsp; &nbsp; if (notPrime[i]===0) { <br>
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primes.push(i); <br> 
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (let j=2 * i; j < limit; j +=i) { <br>
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notPrime[j]=1;  <br>
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br>
                                                    &nbsp; &nbsp;&nbsp;} <br>
                                                } <br> 
                                                let maxSum=0; <br>
                                                let maxRun=-1; <br> 
                                                for (let i=0; i < primes.length; i++) { <br>
                                                    &nbsp; &nbsp;let sum=0; <br>
                                                    &nbsp; &nbsp;for (let j=i; j < primes.length; j++) { <br>
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum +=primes[j]; <br>
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (sum> limit) <br>
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; <br>
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!notPrime[sum] && sum > maxSum && j - i > maxRun) { <br>
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxRun = j - i; <br>
                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxSum = sum; <br>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br>
                                                    &nbsp; &nbsp;} <br>
                                                    } <br>
                                                    
                                                    <br>
                                                    $('#button').click(function (e) { <br>
                                                    &nbsp; &nbsp;e.preventDefault(); <br>
                                                    &nbsp; &nbsp;$('#answer').text(maxSum); <br>
                                                    })
                                            </code>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script>
            const limit = 1000000
            const notPrime = new Uint8Array(limit);
            const primes = [];

            notPrime[0] = notPrime[1] = 1;

            for (let i = 2; i < limit; i++) {
                if (notPrime[i] === 0) {
                    primes.push(i);
                    for (let j = 2 * i; j < limit; j += i) {
                        notPrime[j] = 1;
                    }
                }
            }

            let maxSum = 0;
                let maxRun = -1;
                for (let i = 0; i < primes.length; i++) {

                    let sum = 0;
                    for (let j = i; j < primes.length; j++) {
                        sum += primes[j];
                        if (sum > limit)
                            break;
                        if (!notPrime[sum] && sum > maxSum && j - i > maxRun) {
                            maxRun = j - i;
                            maxSum = sum;
                        }
                    }
            }

            $('#button').click(function (e) {
                e.preventDefault();
                $('#answer').text(maxSum);
            })
    </script>
</body>
</html>